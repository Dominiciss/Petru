<nav id="navbar">
    <!-- CSS de la navbar -->
    <link rel="stylesheet" href="/css/navbar.css">

    <!-- Elementos al inicio de la navbar -->
    <div class="inicio">
        <!-- Cada elemento lleva la etiqueta "item" -->
        <div class="item">
            <a class="icono" th:if="${usuariosession != null}" href="/inicio">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 16 16">
                    <path fill="currentColor"
                        d="M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z" />
                </svg>
            </a>
            <a class="icono" th:if="${usuariosession == null}" href="/">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 16 16">
                    <path fill="currentColor"
                        d="M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z" />
                </svg>
            </a>
            <!-- Solo se muestra cuando el mouse pasa por encima y la pantalla tiene una resolucion mayor a WIDTH_TOOLTIP -->
            <span hidden class="tooltip right">Inicio</span>
        </div>
    </div>

    <!-- Elementos en el medio de la navbar -->
    <div class="medio">
        <div class="item" th:if="${usuariosession != null}">
            <a class="icono">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                    <path fill="currentColor"
                        d="M5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v14q0 .825-.588 1.413T19 21H5Zm5-2v-6H5v6h5Zm2 0h7v-6h-7v6Zm-7-8h14V5H5v6Z" />
                </svg>
            </a>
            <!-- Clase dropdown para abrir un menu al clickear el icono -->
            <div hidden class="dropdown">
                <div class="list" style="display: flex; justify-content: center;" th:each="proyecto : ${proyectos}"
                    th:redirect="@{/proyecto/__${proyecto.id}__}">
                    <a th:text="${proyecto.nombre}"></a>
                </div>
                <div class="list agregar-proyecto">
                    <svg style="pointer-events: none" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                        viewBox="0 0 24 24">
                        <path fill="currentColor" d="M19 12.998h-6v6h-2v-6H5v-2h6v-6h2v6h6z" />
                    </svg>
                </div>
            </div>
        </div>

        <div class="item" th:if="${usuariosession != null}">
            <a class="icono">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                    <path fill="currentColor"
                        d="M4 11q-.425 0-.713-.288T3 10V4q0-.425.288-.713T4 3h6q.425 0 .713.288T11 4v6q0 .425-.288.713T10 11H4Zm1-6v4v-4Zm9 6q-.425 0-.713-.288T13 10V4q0-.425.288-.713T14 3h6q.425 0 .713.288T21 4v6q0 .425-.288.713T20 11h-6Zm1-6v4v-4ZM4 21q-.425 0-.713-.288T3 20v-6q0-.425.288-.713T4 13h6q.425 0 .713.288T11 14v6q0 .425-.288.713T10 21H4Zm1-6v4v-4Zm12 6q-.425 0-.713-.288T16 20v-2h-2.025q-.425 0-.7-.288T13 17q0-.425.288-.713T14 16h2v-2.025q0-.425.288-.7T17 13q.425 0 .713.288T18 14v2h2.025q.425 0 .7.288T21 17q0 .425-.288.713T20 18h-2v2.025q0 .425-.288.7T17 21ZM15 5v4h4V5h-4ZM5 5v4h4V5H5Zm0 10v4h4v-4H5Z" />
                </svg>
            </a>
            <div hidden class="dropdown">
                <div class="list" redirect="/carga_tareas">
                    <a>Template</a>
                </div>
                <div class="list" redirect="/carga_proyecto">
                    <a>Template</a>
                </div>
                <div class="list">
                    <a>Template</a>
                </div>
                <div class="list">
                    <a>Template</a>
                </div>
                <div class="list">
                    <a>Template</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Elementos al final de la navbar -->
    <div class="fin">

        <!-- Usuario admin -->
        <div class="item" th:if="${usuariosession != null}" sec:authorize="${hasRole('ADMIN')}">
            <a class="icono">
                <img th:src="@{/imagen/__${usuariosession.imagen.id}__}" width="48px" height="48px" alt="usuario">
                <svg class="little-cfg" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
                    <defs>
                        <mask id="ipSConfig0">
                            <g fill="none" stroke-linejoin="round" stroke-width="4">
                                <path fill="#fff" stroke="#fff"
                                    d="m24 4l-6 6h-8v8l-6 6l6 6v8h8l6 6l6-6h8v-8l6-6l-6-6v-8h-8z" />
                                <path fill="#000" stroke="#000" d="M24 30a6 6 0 1 0 0-12a6 6 0 0 0 0 12Z" />
                            </g>
                        </mask>
                    </defs>
                    <path fill="currentColor" d="M0 0h48v48H0z" mask="url(#ipSConfig0)" />
                </svg>
            </a>

            <!-- Le puse un poco de margen a la izquierda para que no se salga de pantalla -->
            <div hidden class="dropdown" style="margin-left: -6rem;">
                <div class="list" redirect="/admin/dashboard">
                    <a>Admin</a>
                </div>
                <div class="list" onclick="cambiarTema()">
                    <a>Cambiar Tema</a>
                </div>
                <div class="list" redirect="/perfil">
                    <a>Perfil</a>
                </div>
                <div class="list" redirect="/logout">
                    <a>Cerrar Sesion</a>
                </div>
            </div>
        </div>

        <!-- Usuario comun -->
        <div class="item" th:if="${usuariosession != null}" sec:authorize="!hasRole('ADMIN')">
            <a class="icono">
                <img th:src="@{/imagen/__${usuariosession.imagen.id}__}" width="48px" height="48px" alt="usuario">
            </a>
            <div hidden class="dropdown" style="margin-left: -6rem;">
                <div class="list" onclick="cambiarTema()">
                    <a>Cambiar Tema</a>
                </div>
                <div class="list" redirect="/perfil">
                    <a>Perfil ðŸš«</a>
                </div>
                <div class="list" redirect="/logout">
                    <a>Cerrar Sesion</a>
                </div>
            </div>
        </div>

        <!-- Usuario no logueado -->
        <div class="item" th:if="${usuariosession == null}">
            <a class="icono" href="/login">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                    <path fill="currentColor"
                        d="M12 21v-2h7V5h-7V3h7q.825 0 1.413.588T21 5v14q0 .825-.588 1.413T19 21h-7Zm-2-4l-1.375-1.45l2.55-2.55H3v-2h8.175l-2.55-2.55L10 7l5 5l-5 5Z" />
                </svg>
            </a>
            <span hidden class="tooltip left">Ingresar</span>
        </div>
    </div>

    <div hidden class="fondo" th:if="${usuariosession != null}">
        <div class="ventana">
            <div style="font-size: 4rem; position: absolute;">Perfil</div>
            <form th:action="@{/perfil/modificar}" method="POST" enctype="multipart/form-data" autocomplete="off">
                <div class="perfil-container">
                    <div>
                        <label for="imagen">
                            <img class="perfil-camara" src="/img/camera.png" alt="Seleccionar foto"> </span>
                            <img class="perfil-foto" th:src="@{/imagen/__${usuariosession.imagen.id}__}"
                                th:defecto="@{/imagen/__${usuariosession.imagen.id}__}" id="perfil-logo" alt="imagen">
                        </label>
                    </div>
                    <div>
                        <div>
                            <input type="text" name="nombre" id="nombre" th:value="${usuariosession.nombre}" placeholder="Ingrese su nuevo nombre">
                        </div>
                        <div>
                            <span th:text="${usuariosession.email}" onclick="if (confirm('Esta seguro de que quiere cambiar el email?')) document.location = '/perfil/email-cambio'"></span>
                        </div>
                        <div>
                            <input type="number" name="telefono" id="telefono"
                            th:value="${usuariosession.telefono}" placeholder="Ingrese su nuevo telefono">
                        </div>
                        <div>
                            <textarea name="descripcion" id="descripcion"
                            th:text="${usuariosession.descripcion}" placeholder="Ingrese una nueva descripcion"></textarea>
                        </div>
                        <div>
                            <input hidden type="file" accept=".jpg, .jpeg, .png" name="archivo" id="imagen"
                                placeholder="Ingrese una foto" onchange="cambiarFoto()">
                        </div>
                        <div>
                            <button type="button">Cambiar clave</button>
                        </div>
                        <div>
                            <button type="submit">Registrar</button>
                        </div>
                    </div>
                </div>
            </form>
            <svg class="salir" onclick="ventanaNavExit()" xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                viewBox="0 0 15 15">
                <path fill="currentColor" fill-rule="evenodd"
                    d="M11.782 4.032a.575.575 0 1 0-.813-.814L7.5 6.687L4.032 3.218a.575.575 0 0 0-.814.814L6.687 7.5l-3.469 3.468a.575.575 0 0 0 .814.814L7.5 8.313l3.469 3.469a.575.575 0 0 0 .813-.814L8.313 7.5l3.469-3.468Z"
                    clip-rule="evenodd" />
            </svg>
        </div>
    </div>

    <!-- Script de la navbar -->
    <script src="/js/navbar.js"></script>
</nav>